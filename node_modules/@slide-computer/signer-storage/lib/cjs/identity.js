"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.removeIdentity = exports.setIdentity = exports.getIdentity = void 0;
const identity_1 = require("@dfinity/identity");
const getIdentity = async (key, storage) => {
    const value = await storage.get(`identity-${key}`);
    if (!value) {
        return;
    }
    return typeof value === "string"
        ? identity_1.Ed25519KeyIdentity.fromJSON(value)
        : identity_1.ECDSAKeyIdentity.fromKeyPair(value);
};
exports.getIdentity = getIdentity;
const setIdentity = async (key, identity, storage) => {
    const value = identity instanceof identity_1.Ed25519KeyIdentity
        ? JSON.stringify(identity.toJSON())
        : identity.getKeyPair();
    return storage.set(`identity-${key}`, value);
};
exports.setIdentity = setIdentity;
const removeIdentity = async (key, storage) => {
    return storage.remove(`identity-${key}`);
};
exports.removeIdentity = removeIdentity;
//# sourceMappingURL=identity.js.map