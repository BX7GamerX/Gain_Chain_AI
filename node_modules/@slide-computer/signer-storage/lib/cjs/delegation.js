"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.removeDelegationChain = exports.setDelegationChain = exports.getDelegationChain = void 0;
const identity_1 = require("@dfinity/identity");
const getDelegationChain = async (key, storage) => {
    const json = await storage.get(`delegation-${key}`);
    if (!json || typeof json !== "string") {
        return;
    }
    return identity_1.DelegationChain.fromJSON(json);
};
exports.getDelegationChain = getDelegationChain;
const setDelegationChain = async (key, delegationChain, storage) => {
    return storage.set(`delegation-${key}`, JSON.stringify(delegationChain.toJSON()));
};
exports.setDelegationChain = setDelegationChain;
const removeDelegationChain = async (key, storage) => {
    return storage.remove(`delegation-${key}`);
};
exports.removeDelegationChain = removeDelegationChain;
//# sourceMappingURL=delegation.js.map