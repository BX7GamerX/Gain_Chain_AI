{"version":3,"file":"delegation.js","sourceRoot":"","sources":["../../src/delegation.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AAGpD,MAAM,CAAC,MAAM,kBAAkB,GAAG,KAAK,EACrC,GAAW,EACX,OAAsB,EACtB,EAAE;IACF,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,cAAc,GAAG,EAAE,CAAC,CAAC;IACpD,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE,CAAC;QACtC,OAAO;IACT,CAAC;IACD,OAAO,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;AACxC,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,kBAAkB,GAAG,KAAK,EACrC,GAAW,EACX,eAAgC,EAChC,OAAsB,EACtB,EAAE;IACF,OAAO,OAAO,CAAC,GAAG,CAChB,cAAc,GAAG,EAAE,EACnB,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,CACzC,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,qBAAqB,GAAG,KAAK,EACxC,GAAW,EACX,OAAsB,EACtB,EAAE;IACF,OAAO,OAAO,CAAC,MAAM,CAAC,cAAc,GAAG,EAAE,CAAC,CAAC;AAC7C,CAAC,CAAC","sourcesContent":["import { DelegationChain } from \"@dfinity/identity\";\nimport type { SignerStorage } from \"./storage\";\n\nexport const getDelegationChain = async (\n  key: string,\n  storage: SignerStorage,\n) => {\n  const json = await storage.get(`delegation-${key}`);\n  if (!json || typeof json !== \"string\") {\n    return;\n  }\n  return DelegationChain.fromJSON(json);\n};\n\nexport const setDelegationChain = async (\n  key: string,\n  delegationChain: DelegationChain,\n  storage: SignerStorage,\n) => {\n  return storage.set(\n    `delegation-${key}`,\n    JSON.stringify(delegationChain.toJSON()),\n  );\n};\n\nexport const removeDelegationChain = async (\n  key: string,\n  storage: SignerStorage,\n) => {\n  return storage.remove(`delegation-${key}`);\n};\n"]}